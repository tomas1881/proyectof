<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Resultados por Lote</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/estilo.css') }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
</head>
<body class="bg-light">

<div class="container mt-5 p-4 rounded shadow bg-white">

    <h2 class="text-center text-success mb-4">
        <i class="bi bi-clipboard-data-fill"></i> Resultados por Lote
    </h2>

    {% if error_message %}
        <div class="alert alert-danger alert-dismissible fade show text-center fs-5" role="alert">
            <i class="bi bi-exclamation-triangle-fill"></i>
            {{ error_message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
        </div>

        <div class="text-center mt-4">
            <a href="/form_lote" class="btn btn-primary">
                <i class="bi bi-arrow-left-circle"></i> Volver a Predicción por Lote
            </a>
        </div>

    {% else %}
        <p class="text-center fs-5">
            <strong>Modelo seleccionado:</strong> {{ modelo_usuario }}
        </p>

        <p class="text-center fs-5">
            Exactitud = <strong>{{ (exactitud * 100) | round(2) }}%</strong>
        </p>

        <h4 class="mt-4 text-center"><i class="bi bi-bar-chart-fill"></i> Matriz de Confusión</h4>
        <div class="text-center mt-3">
            {% if modelo_usado %}
                <img src="{{ url_for('static', filename='cm_' + modelo_usado + '.png') }}" class="img-fluid rounded border" alt="Matriz de Confusión">
            {% else %}
                <div class="alert alert-warning">No se pudo mostrar la matriz de confusión.</div>
            {% endif %}
        </div>

        <div class="text-center mt-4">
            <a href="/form_lote" class="btn btn-primary">
                <i class="bi bi-arrow-left-circle"></i> Volver a Predicción por Lote
            </a>
        </div>
    {% endif %}

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
